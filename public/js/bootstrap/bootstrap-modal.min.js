!function(t){"use strict";var e=function(e,i){this.options=i;this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i);if(this.isShown||i.isDefaultPrevented())return;this.isShown=true;this.escape();this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");if(!e.$element.parent().length){e.$element.appendTo(document.body)}e.$element.show();if(i){e.$element[0].offsetWidth}e.$element.addClass("in").attr("aria-hidden",false);e.enforceFocus();i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")})},hide:function(e){e&&e.preventDefault();var i=this;e=t.Event("hide");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();t(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){if(e.$element[0]!==t.target&&!e.$element.has(t.target).length){e.$element.focus()}})},escape:function(){var t=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(e){e.which==27&&t.hide()})}else if(!this.isShown){this.$element.off("keyup.dismiss.modal")}},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end);e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i);e.hideModal()})},hideModal:function(t){this.$element.hide().trigger("hidden");this.backdrop()},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this));if(s)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");s?this.$backdrop.one(t.support.transition.end,e):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(this.removeBackdrop,this)):this.removeBackdrop()}else if(e){e()}}};var i=t.fn.modal;t.fn.modal=function(i){return this.each(function(){var o=t(this),s=o.data("modal"),n=t.extend({},t.fn.modal.defaults,o.data(),typeof i=="object"&&i);if(!s)o.data("modal",s=new e(this,n));if(typeof i=="string")s[i]();else if(n.show)s.show()})};t.fn.modal.defaults={backdrop:true,keyboard:true,show:true};t.fn.modal.Constructor=e;t.fn.modal.noConflict=function(){t.fn.modal=i;return this};t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),o=i.attr("href"),s=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),n=s.data("modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},s.data(),i.data());e.preventDefault();s.modal(n).one("hide",function(){i.focus()})})}(window.jQuery);